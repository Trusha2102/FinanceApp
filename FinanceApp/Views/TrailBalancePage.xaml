<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="FinanceApp.Views.TrialBalancePage"
             BackgroundColor="#FDCFFA"
             Title="Finance App">

    <StackLayout Padding="20" Spacing="10">

        <Label Text="Trial Balance" FontSize="24" FontAttributes="Bold"
               HorizontalOptions="Center" TextColor="#4E56C0"/>

        <Grid ColumnDefinitions="2*,1*,1*" RowSpacing="5">
            <Label Text="Account" FontAttributes="Bold" TextColor="#4E56C0"/>
            <Label Text="Debit" FontAttributes="Bold" TextColor="#FF4C4C" Grid.Column="1"/>
            <Label Text="Credit" FontAttributes="Bold" TextColor="#4CAF50" Grid.Column="2"/>
        </Grid>

        <CollectionView ItemsSource="{Binding Balances}">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Grid ColumnDefinitions="2*,1*,1*" RowSpacing="2">
                        <Label Text="{Binding AccountName}" TextColor="#4E56C0"/>
                        <Label Text="{Binding TotalDebit, StringFormat='{0:C}'}"
                               TextColor="#FF4C4C" Grid.Column="1"/>
                        <Label Text="{Binding TotalCredit, StringFormat='{0:C}'}"
                               TextColor="#4CAF50" Grid.Column="2"/>
                    </Grid>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <!-- Totals -->
        <Grid ColumnDefinitions="2*,1*,1*" RowSpacing="5">
            <Label Text="Total" FontAttributes="Bold" TextColor="#4E56C0"/>
            <Label x:Name="totalDebitLabel" TextColor="#FF4C4C" Grid.Column="1"/>
            <Label x:Name="totalCreditLabel" TextColor="#4CAF50" Grid.Column="2"/>
        </Grid>

        <!-- Balance status -->
        <Label x:Name="balanceLabel" FontAttributes="Bold" TextColor="#4E56C0" HorizontalOptions="Center"/>

    </StackLayout>
</ContentPage>
